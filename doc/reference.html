<html>
  <head>
    <title>The Cricket Reference Guide</title>
  </head>
<body>

<h1>The Cricket Reference Guide</h1>

<p>
This section is the definitive reference for each and every tag that
Cricket knows about. Use this section as a reference when you need to
know the exact format for something, or the exact behavior of a
certain tag.

<h2>File Format</h2>

<p>
Cricket config files are simple text files arranged into a tree-shaped
set of files called a <i>Config Tree</i>. They are processed by a Perl
module called ConfigTree.pm. This setup would make it possible to use
one config tree for Cricket and other clients of ConfigTree.pm. At
this time, there are no other programs that use the config tree
design, but there may be in the future. It was set up this way because
the config tree will grow to contain an accurate picture of your
network; it makes sense to try to leverage that information to other
network administration tools. The overriding philosophy here is
duplicated information is bad: it is hard to maintain, and it invites
silly mistakes.

<p>
The Cricket config tree is 100% incompatible with MRTG configuration
files. There are not even any plans to write a converter, though one
could probably be written. When you choose to use Cricket, it's a very
good idea to approach your config from a fresh perspective, to take
maximum advantage of Cricket's features.

<p>
The comment character for Cricket is &quot;#&quot;. If a &quot;#&quot;
is found at the beginning of the line (or is preceded only by
whitespace) then the &quot;#&quot; and everything after it will be
deleted. Completely blank lines are discarded from the input too.

<p>
The fundamental unit of a config file is a chunk. A chunk is made up
of one line which begins in column one, and one or more lines which
have whitespace before them. In this way, you can continue a long line
to another line by simply inserting a newline and some
whitespace. When it is glued back together internally, the newline and
whitespace are replaced by a space. A chunk should have at least one
word (a group of characters that are not whitespace) at the
beginning. This word (called the &quot;token&quot; by the code) tells
ConfigTree.pm what kind of chunk it is dealing with, and what kind of
parser to use.  If it is an unknown token, ConfigTree.pm can be told
to ignore it. By default, unknown chunks cause a warning, but not a
fatal error. Clients of ConfigTree.pm can control this; Cricket
chooses to ignore unknown chunks.

<h3>Text Parser</h3>

<p>
This parser is used in cases where free-text is useful, for
instance in the HTML dictionary. The first two tokens are parsed out,
and they serve as the chunk type, and the key. Everything after these
first two tokens is considered the value.

<h3>Simple Parser</h3>

<p>
This parser is used for simple mappings, like the OID mapping. An
example of a valid OID line is:

<p>
<blockquote><pre>oid	ifInOctets	1.3.6.1.2.1.2.2.1.10</pre></blockquote>

<p>The format is a token, another token (called the key;
<tt>ifInOctets</tt> in this case), and finally the value. The value
can have whitespace in it, but only if it is surrounded by double
quotes (&quot;). Embedded quotes are not yet supported.

<h3>Tag/Value Parser</h3>

<p>
This is the most useful, and most commonly used parser. Here's an
example of a Tag/Value chunk:

<blockquote><pre>graph   ifInOctets
    color       =   dark-green
    draw-as     =   AREA
    legend      =   "Average bits in"
    y-axis      =   "bits per second"
    scale       =   8,*</pre></blockquote>

<p>
Like the others, it parses out two tokens, the chunk type and the
key. After this, it parses a series of tag/value pairs separated by
whitespace and the equals sign (&quot;=&quot;). The values must be
surrounded by quotes to embed whitespace, like the Simple
Parser. If you repeat a tag, only the second occurrence will be used.

<h3>Miscellaneous</h3>

<p>
All tokens and keys are case-insensitive. The tags in a tag/value
chunk are also case insensitive. The values will have their case
preserved when they are used by the system.

<p>
Tag names can have numbers, letters, the period symbol, the dash, and
the underscore. Avoid using other punctuation, since those symbols are
used by Cricket internally.

<p>
OID tags are more limited, to conform with the SNMP spec. A tag in an
OID dictionary can be made up of numbers and letters. Dashes are not
allowed.

<p>
Target names should consist of letters, numbers, dashes and
underscores. Do not put slashes in them, since they end up being used
as parts of filenames.

<p>Inside of double quotes, on the right side of an equals sign, anything goes, with the exception of the double quote itself. There is currently no way to include the double quote in a string.

<p>
Avoid choosing names that begin and end with two dashes (like
<tt>--default--</tt>). Cricket uses some names like this internally,
and future additions will make use of these names.

<p>
The following table shows which tokens are parsed with which parsers:

<p>
<center>
<table width=50% border>
  <tr>
    <th>Token<th>Parser
  <tr>
    <td>target<td>Tag/Value
  <tr>
    <td>datasource<td>Tag/Value
  <tr>
    <td>targetType<td>Tag/Value
  <tr>
    <td>graph<td>Tag/Value
  <tr>
    <td>color<td>Simple
  <tr>
    <td>oid<td>Simple
  <tr>
    <td>html<td>Text
  <tr>
    <td>event<td>Tag/Value
  <tr>
    <td>rra<td>Simple
</table>
</center>

<p> For some tags, you can put Perl expressions into the value.
(<tt>inst-names</tt> is one such tag) However, double quotes are often
useful in Perl expressions. That's problematic, since at present there
is no way to put quotes into values.  Instead, you should use single
quotes. Thus it might look something like this:

<blockquote><pre>inst-names =   "('Port 1 Ethernet', 'Port 2 Ethernet', 
                 'Port 3 FDDI', 'Port 6 FDDI', 
                 'Port 7 Ethernet' , 'Port 9 Ethernet')"</pre></blockquote>

<h2> Dictionary Reference </h2>

<p>
In this section are detailed lists of every tag you will find
in every dictionary.

<p>
Jump directly to:

<ul>
  <li><a href="#target">target</a>
  <li><a href="#datasource">datasource</a>
  <li><a href="#targettype">targetType</a>
  <li><a href="#graph">graph</a>
  <li><a href="#color">color</a>
  <li><a href="#oid">oid</a>
  <li><a href="#html">html</a>
  <li><a href="#event">event</a>
  <li><a href="#rra">rra</a>
</ul>

<a name="target">
<h3> The Target Dictionary </h3>
</a>

For each target known to Cricket, there is a target dictionary. The
target dictionary holds all the information needed by Cricket to collect
and store variables from a component. The target dictionary is
expanded with respect to itself immediately before it is
used to collect or display data.
<p>

<dl>
<dt><tt>collect</tt><p>
<dd>Default value: <i>not set</i><p>

If this tag exists, and it is set to <tt>false</tt>, then
this target will be skipped when the collector comes
across it. This is useful if you no longer want to collect
an obsolete target, but you still want it in the config tree
so that you can look at it with the grapher.
<p>

<dt><tt>copy-to</tt><p>
<dd>Default value: <i>not set</i><p>

If this item is set, it tells Cricket to send the
data it collects somewhere else after it is added to
the RRD file. The value of this tag is interpreted
as a colon separated list of two things. The first
is where to send the data. The second item is used on
a case-by-case basis. The only place to send data
right now is to SNMP traps. To do so, set <tt>copy-to</tt>
to a string like this: <tt>trap:public@traphost.company.com</tt>.
<p>

The traps Cricket sends are marked with an enterprise number
of "1.3.6.1.4.1.2595.1.1" (which is enterprises.webtv.wtvOps.wtvOpsTraps).
Their generic type is 6, and their specific type is 3.
The first varbind is the full path to the target, including
the target name. The other varbinds are the actual data.
The OID's for these varbinds can be ignored. They are not
significant.
<p>

New copy-to types can only be added by editing the
source to the collector. Please send any patches
to the Cricket maintainer, so others can use your nifty
copy-to method.
<p>

<dt><tt>directory-desc</tt><p>
<dd>Default value: <i>unset</i><p>

This string is displayed in the description column of the
directory selection list, if it is set. If not, the column
is simply left blank.
<p>

<dt><tt>disable-short-desc</tt><p>
<dd>Default value: <i>unset</i><p>

Hold on tight, this is a weird one. If this is set in the 
dictionary of the first target displayed in the "Targets
that are available" table, then the table will have only one
column. This is useful when you have lots of views and
don't want to lose the space used by the description
column. 
<p>

<dt><tt>display-name</tt><p>
<dd>Default value: <i>same as target name</i><p>

You can use this tag to use a more user friendly name for a target
for display purposes. If you do not set it, the target name itself
will be displayed.
<p>

<dt><tt>events</tt><p>
<dd>Default value: <i>none</i><p>

This tag is interpreted by the grapher as a comma-separated list
of events to fetch from the <tt>events</tt> dictionary, and add
to the graph in the form of a vertical rule.
<p>

<dt><tt>inst</tt><p>
<dd>Default value: <i>none</i><p>

This is the SNMP instance number. Cricket only really needs this value
to be set correctly if <tt>%inst%</tt> shows up in the ds-source tag
of the datasources you are collecting. If <tt>inst</tt>
is set, Cricket will attempt to evaluate it as a Perl expression.

<p>
<font color=red>Note</font>: there's no protection against
side-effects from this expression, so to avoid a security problem from
an inst like <tt>unlink('/etc/motd');</tt> you should make certain
your config tree is only writable by you.

<p>
The result of evaluating the instance is examined to see whether it is
a mapped instance, a scalar, or a vector. If it starts with "map(", it
is a mapped instance.  The instance mapping algorithm is used to
derive an instance number from the rest of the data in the target (see
<a href="inst-mapping.html">Instance Mapping</a> for more information on
this), then the target is processed as though the instance number had
been a scalar all along.<p>

If it is a scalar (i.e. <tt>inst=1</tt>) then it is processed
normally. If the instance is a vector (i.e. <tt>inst="(0..12)"</tt>,
or <tt>inst="(1, 3, 5)"</tt>) then the target is processed once for
each value in the list. The target dictionary is expanded with respect
to itself for each instance, so it's possible to embed <tt>%inst%</tt>
into the rrd-datafile tag. In fact, it's critical to add
<tt>%inst%</tt> to some part of the rrd-datafile tag, or else the data
will all be stored on top of one another in the same datafile.  <p>

<dt><tt>inst-names</tt><p>
<dd>Default value: <i>none</i><p>

When making the instance selector table, Cricket will use names
from this tag instead of the instances themselves. If it will be
needed, <tt>inst-names</tt> is eval'ed (just like <tt>inst</tt>).
For each instance in the <tt>inst</tt> tag, Cricket looks for a
corresponding entry in the <tt>inst-name</tt> vector. If it
finds one, it uses that as the instance name, otherwise it defaults
to the instance it fetched from the <tt>inst</tt> tag.
<p>

<dt><tt>long-desc</tt><p>
<dd>Default-value: <i>unset</i><p>

This description shows up at the top of a page of graphs, in the
"Summary" section. There is more room on this page for a longer
description.  You can include your own HTML as long as you close all
tags that you open. If you don't feel like setting this for every
target, set it to <tt>%short-desc%</tt> in the "--default--" target,
and the short description will show up on each graph page for every
target which does not have an explicit long description. (Such is the
power of the config tree.)  <p>

<dt><tt>monitor-thresholds</tt><p>
<dd>Default-value: <i>none</i><p>

If this tag exists, then the fetched value for this target
will be checked after the RRD is updated.  The format of a
monitor-thresholds tag is 2 or more fields, colon delimited. 
Field 1 always contains the datasource associated with the
target that you want to monitor, and field 2 specifies what
monitor type you wish to apply to the specified datasource,
any additional fields are passed to the monitor and are called
arguments (field 3 is argument 1).  Currently there are 3
supported monitor types: value, hunt, and relation. 
<p>
Value monitors are the easiest to configure, and allow you to
configure high-water/low-water monitoring on a datasource.  Argument 1
is the low-water, and argument 2 is the high-water.  Example:
<tt>monitor-thresholds = "myds:value:10:20"</tt> would cause Cricket
to send a trap if the last value for the datasource "myds" in the RRD
file is below 10 or above 20.
<p>
Hunt monitors tell Cricket that a given target is the roll over for
another target, so that if target 1 is at capacity, then traffic will
begin to flow over target 2.  This is especially useful to
identify
premature rollover in a set of modem banks configured to hunt
from one to the next.  Arguments for hunt monitors are as
follows:
<p>

<ol>
<li> The value that must be reached before rollover should occur.
	Generally this should be slightly less than the maximum capacity of
	the target.
<li>The name of the target that <i>precedes</i> this
	target in the huntgroup.
<li>The datasource of the target that should
	be checked (e.g. connected users)
</ol>
<p>

Example: <tt>monitor-thresholds = "myds:hunt:40:pop-1:myds"</tt> when
placed in the target definition of pop-2, would cause Cricket to send
a trap if traffic was seen on pop-2 before pop-1 reached 40 users.
<p>

Relation monitors are the most flexible, and allow Cricket to compare
the value of the target you are monitoring with any other stored value
within Cricket's RRD files.  This can be used to compare a target
against itself at a previous time (e.g. compare the traffic on a
router interface to the traffic a week ago on that same interface), to
compare against the same target for a different datasource
(e.g. compare the packet rate on a router to the error rate), or to
compare a target against a completely  target (e.g. compare
the traffic on router-1 to the traffic on router-2 to be sure that
they are load balancing correctly).  Arguments for relation monitors
are as follows:
<p>

<ol>
<li>Threshold, this is the difference between the two datasources, it
can either be an absolute value, or a percentage (specified by the
suffix "pct" as not to conflict with Cricket's variable expansion).

<li>Target, this is the target that is to be compared against.  Note
that this can be left blank, in which case the target will be compared
against itself.

<li>Datasource, this is the datasource that is to be compared against.
Note that this too can be left blank, in which case the ds specified
in field 1 will be used.

<li>Time, this is the number of seconds to go back in the RRD file
that is being fetched from for comparison.  Note that data must exist
in the RRD file for that exact number of seconds back or the monitor
will be skipped.

</ol>
<p>

When a threshold is violated the subroutine named Alarm in Monitor.pm
is executed. Likewise, when a recovery is detected, the subroutine
named Clear is run.
At present, these subroutines send an SNMP trap to
the address in the target tag trap-address. You could replace these
subroutines with ones that send mail, or log to some other alert
manager.
<p>

<i>Note:</i> Monitoring of vectored instances is not supported.  More
than one monitor can be placed in a monitor-thresholds tag using a
comma as a delimiter.
<p>

<dt><tt>mtargets</tt><p>
<dd>Default-value: <i>none</i><p>

If this tag exists, then this target is considered by Cricket to be a
multi-target.  To the collector, this means that it simply doesn't need to
collect anything, and can skip the target.  To the grapher, it means this
target will aggregate the data from several different targets all onto
one set of graphs.  It will plot the data from each of the different targets
all on the same graph.  It assumes that the target-type of each of the
specified targets is the same.  It works best if the graph dictionary for
each datasource does not specify a color (otherwise you'll end up with more
than one line with the same color).  It enforces only one AREA graph--it
will convert the others into LINE2 in order to ensure they can be seen.
It does not currently support vector instances.  Other than that, the syntax
matches that for "targets".  This tag can also be used in connection with
the mtargets-ops flag to perform arithmetic operations.  <p>

<i>Note:</i> This tag will not work with vector instances at this
time. If you absolutely need it to work, you'll need to use multiple
separate scalar targets to poll the device's ports, and then use
the <tt>mtargets</tt> tag to graph each of the scalar targets.
<p>

<dt><tt>mtargets-ops</tt><p>
<dd>Default-value: <i>none</i><p>

This tag is used in connection with the "mtargets" tag.  This tag lets
you perform arithmetic operations on multiple targets.  For example,
this lets you add multiple targets together and graph the results.
This tag must either be set to an RPN notation, or to a short-hand
form, like "sum()".
<p>

If set to an RPN expression, it should be defined as a
comma separated list of operations, such
as "+","-","*","/".  This is used as a RPN calculator, operating on the
targets listed in the <tt>mtargets</tt> definition.
So, if you list three targets
in your mtargets definition, you could define
<tt>mtargets-ops="+,+"</tt>, and the
result would be a graph of the three targets added together.
<p>

If this tag is set to "sum()", the correct number of pluses
will be substituted to make a valid RPN expression to sum each
of the targets in the <tt>mtargets</tt> tag.
<p>

If this tag is set to "avg()", it will be replaced by
the correct RPN expression to
calculate the average of the targets in the <tt>mtargets</tt> tag.
<p>

The HTML
summary section also has the same set of operations done to the values
there.  The operations are done to each datasource defined for that
target-type.  If you have defined a scale for the individual datasource,
these operations are done on the scaled values.
<p>

<dt><tt>order</tt><p>
<dd>Default value: 0<p>

The order tag is used to control the order that targets are
<i>displayed</i>. It has nothing to do with the order that they are
<i>polled</i>. (Though it might work like that someday.) When the
display is laid out by the CGI application, it sorts the targets from
the highest order to the lowest order.  Targets which have the same
order are sorted alpha-numerically within their order.  <p>

<dt><tt>persistent-alarms</tt><p>
<dd>Default value: <i>false</i><P>
This tag tells the Monitor agent that if it receives an alarm to send traps
every time it detects an alarm condition. The default behavior is to only send
an Alarm/Clear trap. This can be useful for sending many SNMP traps into an
application which can tally the amount of failures, or to have it execute a
program multiple times. Setting this tag to 'true' turns persistent alarming
on.
<p>

<dt><tt>rrd-datafile</tt><p>
<dd>Default value: <i>none</i><p>
 
This tag tells Cricket where to put the data it collects, and where to
find the data it will graph. Since there are no guarantees about where
Cricket will be running from, you should use a full path here. The
sample-config ships with a one-size-fits all definition for
rrd-datafile in the root Defaults file.  Except for special cases, you
can probably use it and it will generate the filenames for you
automatically.  <p>
 
<dt><tt>rrd-poll-interval</tt><p>
<dd>Default value: <i>none</i><p>

This tag is used to set the step size (in seconds) for the RRD file
when it is first created. This value cannot be changed once the RRD
file is created, so if you need to change it in the config tree, then
you must remove the RRD file, forcing Cricket to re-create it, to make
the change stick. You will, of course, lose all the data you have
collected so far.  It is critical that the collector runs on each
target at least as often as the rrd-polling-interval, otherwise RRD
may mark the intervening polling periods as unknown.  <p>

RRA's are defined in terms of the fundamental polling-interval of the
RRD. Thus, if you chose to adjust the rrd-polling-interval (and then
run the collector at a non-standard rate) then you should re-visit the
RRA definitions and probably make adjustments to them. A particular
example of adjusting rrd-polling-interval would be using Cricket to
monitor a 155 Mbit OC3 link. Because an SNMP Counter32 can wrap in
under 5 minutes at bandwidths above 100 Mbits, it's critical to fetch
the data more often, or else RRD will not be able to correctly detect
and process the counter wrap.

<!-- XXX --> <i>Hopefully in the next few versions, we will have an
example of a part of the config tree optimized for very fast
interfaces.</i>
<p>

<dt><tt>rrd-max</tt><p>
<dd>Default value: <i>unset</i><p>

If this tag is present, it will override the same tag in the
datasource dictionary. See the entry on <tt>rrd-max</tt> there for
more information.
<p>

<dt><tt>rrd-min</tt><p>
<dd>Default value: <i>unset</i><p>

If this tag is present, it will override the same tag in the
datasource dictionary. See the entry on <tt>rrd-min</tt> there for
more information.
<p>

<dt><tt>short-desc</tt><p>
<dd>Default value: <i>unset</i><p>

This description shows up in the target selection table which the CGI
program displays. It is a good idea to keep this description to one
line. You can include your own HTML in it as long as you close all
tags that you open.  <p>

<dt><tt>snmp</tt><p>
<dd>Default value: <i>none</i><p>

This tag is not directly used by Cricket except when it is doing
instance mapping. However, it is convention (as exemplified by the
sample-config tree) that this tag should hold the SNMP community
string, the hostname, and the port number in the exact form that is
required by the snmp:// ds-source specification. Thus, ds-sources can
simply start with <tt>snmp://%snmp%/</tt>, and they will incorporate
the current host, port, and community string into the ds-source tag as
soon as they are expanded with respect to the current target.  <p>

When using instance mapping, the <tt>snmp</tt> tag is used directly,
so it must be present, even if you are using another convention to get
the data into the ds-source tags.  <p>

<dt><tt>summary-loc</tt><p>
<dd>Default value: <i>top</i><p>

This tag controls where the "Summary" box appears on the page. There
may be instances where you want it on the bottom instead of the top.
This could be useful for aggregate pages where you only care about the graphs 
and not so much the content. To have it display on the bottom, change the tag
to 'bottom'.

<dt><tt>targets</tt><p>
<dd>Default value: <i>none</i><p>

If this tag exists, then this target is considered by Cricket to be a
multi-target. To the collector, this means that it simply doesn't need
to collect anything, and can skip the target. To the grapher, it means
this target will aggregate the data from several different targets all
onto one report.  The syntax is a semi-colon delimited list of targets.
The target definition can either by fully-qualified, which would look
like "/router-interfaces/Datacenter1/ds3-1", or unqualified, in which case
they are assumed to be in the current directory.  <p>

For targets with vector instance definitions, it may also be useful to
specify which instance you wish to display.  You can do that by putting
a colon after the target definition.  So, it would look something like
this:  targets="/switch-ports/switch-1:3;/switch-ports/switch-2:5..7".  This
would put up instance #3 from switch-1, and instance #5, #6, and #7 from
switch-2.  Variable expansion is handled in the instance definition
section as well.  <p>

This functionality assumes that the target-type of each of the specified
targets is the same.  You also must set a target-type for the multi-target
itself.  There are some variables which control the presentation of this
data, which are also listed in this reference.

<p>

<dt><tt>targets-long-desc</tt><p>
<dd>Default value: <i>none</i><p>

This tag sets the text which is displayed above each graph in a "targets"
multi-target.  It should be an array of the same length as the "targets" array.
This value overrides the default presentation, and also overrides the tag
targets-short-desc.  Syntax would look like:
targets-long-desc="('Target1','Target2')" <p>

<dt><tt>targets-short-desc</tt><p>
<dd>Default value: <i>none</i><p>

By default above each graph in a targets multi-target page, the short-desc
of each target being displayed is printed above that graph (as well as
some other text).  This replaces that text with this.  It should be an
array which matches the "targets" array.  The syntax would look the same as
for targets-long-desc. <p>

<dt><tt>target-type</tt><p>
<dd>Default value: <i>none</i><p>

This tag sets the target type for this target. It must be one of the
target type names from the targetType dictionary.  Cricket uses the
targetType to decide which variables to fetch, and how much data to
store in the RRD.
<p>

<dt><tt>trap-address</tt><p>
<dd>Default value: <i>unset</i><p>

This tag is used to tell Monitor.pm where to send SNMP traps when
it needs to send one. The format should be community@hostname:port.
You can safely leave off community and port. The defaults are "public",
and "162", respectively.
<p>

<dt><tt>unknown-is-zero</tt><p>
<dd>Default value: <i>unset</i><p>

When this tag is set and the target is part of a multitarget
which has mtargets-ops set, then data which is unknown
will be treated as a 0. This is very useful when trying to create
aggregate graphs that sum a set of targets that span different time
ranges. By default, places where one target is
unknown and the others are known
will show on the graph as unknown (blank). In some cases, this
can result in no graph appearing at all (when the set of known
datapoints are completely disjoint). Set this flag to "true" to
avoid this problem.
<p>

</dl>

In addition, the following tags are set automatically by Cricket for
your use in other tags in the target dictionary: <p>

<dl>
<dt><tt>auto-target-name</tt><p>
<dd>Default value: <i>automatically set</i><p>

The short name of the current target. This does not include the entire
path from the config tree root to the target.  <p>

<dt><tt>auto-target-path</tt><p>
<dd>Default value: <i>automatically set</i><p>

The path leading from the base of the config tree to the current
target.
<p>

<dt><tt>auto-base</tt><p>
<dd>Default value: <i>automatically set</i><p>

The config tree root directory. This is especially useful for creating
paths which you want to be relative to the config tree root. For
instance, setting rrd-datafile to
<tt>%auto-base%/../cricket-data/foo.rrd</tt> would put the datafile in a
directory named cricket-data, next to the base of the config tree.  <p>

<dt><tt>auto-view</tt><p>
<dd>Default value: <i>automatically set</i><p>

The name of the current view, as selected using the user interface.
This is sometimes useful to incorporate into strings used in the user
interface via the HTML dictionary.  <p>

</dl>

<a name="datasource">
<h3> The Datasource Dictionary </h3>
</a>

This dictionary tells Cricket everything it needs to know about
individual datasources. A datasource is a single variable about a
target which is polled and logged. For instance, a datasource for a
router interface would be "inbound bandwidth". A separate datasource
definition is needed for each of the other variables that you might
want to measure ("outbound bandwidth", for instance).  <p>

<dl>
<dt><tt>desc</tt><p>
<dd>Default value: <i>unset</i>

If this tag is set, the value is incorporated into a key at the bottom
of the page of graphs. This is a very good place to put notes about
how the value is measured, what uncertainty there is in the
measurement, etc. You can put arbitrary HTML into it, as long as you
close any tags that you open. If there are no datasources with a
description, then no key will be printed.  Only datasources with
descriptions will be present in the key.  <p>

<dt><tt>ds-source</tt><p>
<dd>Default value: <i>none</i><p>

This tag is used to tell Cricket where to fetch the data from. There
is a scheme identifier from the beginning until the first
colon. Everything after the first colon is defined on a per-scheme
basis. The scheme identifier is case-insensitive.  <p>

The per-scheme part is expanded with respect to the target dictionary
immediately before it is resolved into measurements, making it
possible to plug values from the target dictionary into the ds-source
at runtime. Likely candidates for this substitution include the SNMP
hostname and community string, the instance number (which is appended
to table-base OID's), and some or all of the command line for EXEC
datasources.  <p>

Here's a detailed description of each scheme.
<p>

<blockquote>
<dl>
  <dt> SNMP
  <dd> These ds-sources look like this:
	<tt>snmp://community@hostname:port/oid</tt>.  The hostname part
	can be either an IP address or a domain name. It will be resolved
	with <tt>gethostbyname()</tt> in the latter case. The oid part can
	include a text label which will be expanded from the OID
	dictionary.
	<p>

  <dt> EXEC
  <dd> This ds-source is used to tell Cricket to run a shell
	command in order to fetch the value or values required for a
	target. After the <tt>exec:</tt> scheme identifier comes
	an integer followed by a colon, followed by a command (including
	whatever arguments are required for the command). The number
	chooses a line of output from the command (starting from line
	0). For example, say the "vmstat" program on your system prints
	this when given the "-s" argument:<p>

	<pre>
      350 swap ins
     2982 swap outs
      239 pages swapped in
     3298 pages swapped out
          (etc...)
	</pre>

	Then the following datasource would fetch the number of pages
	swapped out: <p>

	<tt>exec:3:vmstat -s</tt><p>

	Note that we allow the text output from the command
	(i.e. "pages swapped out")
	to go in to Cricket. As of version 0.64, Cricket ignores everything
	after the first space or tab. It will attempt to interpret the
	first sequence of non-space characters on the line as a floating
	point number. Since an integer is a degenerate form of a floating
	point number, they are acceptable. This behavior holds for all
	ds-sources, actually, but it is most useful for the EXEC type.
	<p>

	If the initial integer is omitted (and there are no colons in the
	command line to confuse Cricket) then the line number will be
	assumed to be 0, and the first line of output will be used as
	the measurement.
	<p>

  <dt> FILE
  <dd> This ds-source tells Cricket to read a file and find the
	results on a certain line of that file. The line is specified
	using the same syntax as EXEC. For example, say the file /tmp/data
	has two lines in it, like this:<p>

	<tt> 100 <br>
		 235 <br>
	</tt><p>

	Then this datasource would always fetch "235" from the file:<p>

	<tt>file:1:/tmp/data</tt><p>

	Presumably, there would be some other process updating the data
	file with interesting data from someplace, or else the graph
	would be a flat line at 235.
	<p>

  <dt> FUNC
  <dd> This ds-source uses a Perl function to fetch the result. It
		is not enabled by default, since it requires extra code
		to be useful, and could be a security vulnerability, if the
		config tree were not properly protected. To enable it,
		uncomment the line <tt>use func;</tt> in <tt>collector</tt>.
		<p>

		This ds-source uses Perl's <tt>eval</tt> keyword to evaluate
		some Perl code at runtime. Usually, this will be a function
		call to a function you have written yourself and added into
		<tt>collector</tt>. A good way to add the code portably is to
		keep it in it's own file and incorporate it with the
		<tt>require</tt> keyword. You will need to be careful to avoid
		stomping on any data that collector uses, since it will be
		running your code in it's namespace. This should be fixed
		someday, if many extensions to Cricket use this interface.
		<p>
</dl>
</blockquote>
<p>

Datasources are batched together and executed with as few network
transactions or shell executions are possible. For instance, if you
are fetching six datasources from the same hostname, all six
datasources will be rolled into one SNMP request.  Likewise, if you
are fetching 3 different lines from the results of the same command,
that command will be run only once.
<p>

Schemes are expected to return their data as an array of numbers.
If the values are of the form "XXX@YYY", then the measurement XXX
will be recorded as being taken at time YYY. The time must be in the
form of a Unix <tt>time_t</tt>, i.e. number of seconds since 1970.
Currently, this feature is only supported by the EXEC and FILE schemes.
RRD imposes the restriction that data can <b>only</b> be added in
strictly ascending time order. Each datasource which has a time in it
should have a matching
time. If this is not the case, Cricket will log a warning, but use
the first time it found in the array.
<p>

You might use this
feature if you are fetching the data from another data collection
system which is operating on a different polling cycle than Cricket.
You could use a shell script to fetch the data from the other
system, along with the time the data was sampled. Then you
could format the result into the "XXX@YYY" format, and print it to
standard out for Cricket to read.
<p>

New schemes can be added to Cricket with minimal effort. Use the file
<tt>lib/exec.pm</tt> as your guide, then add a <tt>use</tt> statement
for your new <tt>.pm</tt> file to <tt>collector</tt>.  <p>

<dt><tt>rrd-ds-type</tt><p>
<dd>Default value: GAUGE<p>

The DS type is used by RRD to know how to interpret the numbers
fetched from this datasource. There are three possibilities:

<blockquote>
<dl>
  <dt> GAUGE
  <dd> The measurement will be directly copied into the RRD
	datafile without any extra processing. Examples of this
	type of measurement include readings from thermometers,
	percent disk space free, etc.
  <p>

  <dt> COUNTER
  <dd> The measurements from COUNTER datasources will be treated
	like SNMP counters. An SNMP counter increases monotonically
	until a fixed wrap-around point (usually either 2^31-2 or 2^63-2,
	depending on the size of the data type). To convert a COUNTER
	measurement into a rate (for instance, "count of octets" to
	"octets per second") RRD subtracts the previous value from the
	current one, and adjusts for any wraparound conditions. Any
	SNMP variable which is marked with the SNMP "COUNTER" data type
	should have it's <tt>rrd-ds-type</tt> set to COUNTER.
  <p>

  <dt> DERIVE
  <dd> DERIVE is like COUNTER, but there is no overflow check, so
	negative rates are possible. This datasource type would be
	useful when you have a count of something (which may increase
	and decrease), and you want to graph the rate of change.
  <p>

  <dt> ABSOLUTE
  <dd> ABSOLUTE is for COUNTERs which get reset upon reading. Some
	SNMP variables have this property. Using ABSOLUTE instead of COUNTER
	tells RRD to compute the rate assuming the value is an absolute
	count of octets (or whatever) during the last polling period.
  <p>

</dl>
</blockquote>
<p>

The datasource type names are case-insensitive. They are passed
directly through to RRD when the RRD file is created. If the
datasource type is changed later, you must use <tt>rrd-tune</tt> to
apply the change to the underlying RRD file. For more information
about them, consult the RRD documentation for the <tt>create</tt>
command.  <p>

<dt><tt>rrd-heartbeat</tt><p>
<dd>Default value: 1800 <i>(value is in seconds)</i><p>

The heartbeat for a datasource is the number of seconds that can pass
between updates before the datasource is marked unknown. If this tag
is changed after the RRD file has been created, then the <a
href="#rrd-tune">rrd-tune</a> tool must be used to apply the changes
to the existing RRD's.  <p>

<dt><tt>rrd-max</tt><p>
<dd>Default value: U<p>

This tag is used to set the RRD maximum value parameter. If RRD gets a
value higher than this number, it will throw the data away, instead of
adding it to the RRA. This can be used to filter bad data, though it
could be argued it would be better to simply avoid fetching bad data
in the first place. When it is set to "U" (for unknown), RRD does not
attempt to check incoming data against an upper bound.
<p>

If the tag <tt>rrd-max</tt> is present in the target dictionary,
it will override the value found in the datasource dictionary.
This makes is possible to assign different maxima to different
targets.
<p>

If this value is changed after the underlying RRD file has been
created, the <tt>rrd-tune</tt> script must be used to apply the
changes.
<p>

<dt><tt>rrd-min</tt><p>
<dd>Default value: U<p>

Like <tt>rrd-max</tt>, this tag is passed through to RRD
unchanged. It can be used to apply an upper bound to data
submitted to RRD.
<p>

Also like <tt>rrd-max</tt>, if <tt>rrd-min</tt> appears in the target
dictionary, it will override the <tt>rrd-min</tt> in the datasource
dictionary.
<p>

</dl>

<a name="targettype">
<h3> The TargetType Dictionary </h3>
</a>

The TargetType dictionary tells Cricket which datasources
to gather together for a certain kind of target. Unlike
other dictionaries, keys in this one can occur multiple
times.

<dl>
<dt><tt>ds</tt><p>
<dd>Default value: <i>none</i><p>

Each <tt>ds</tt> tag tells Cricket about a variable it will be
fetching. The value of the tag must be comma-separated list
of known datasource names.
<p>

<dt><tt>view</tt><p>
<dd>Default value: <i>none</i><p>

A view is a subset of the datasources that you'd like to display
together, apart from the rest of the datasources. The syntax
for the value is "view-name: ds ds ...". The view name you choose
shows up in the CGI grapher, so you should try to make it
descriptive. The space-separated list of datasources after the colon
must be datasources that are part of the target type. You can specify
several views by separating them by commas.
<p>
</dl>

<a name="graph">
<h3>The Graph Dictionary</h3>
</a>

The graph dictionary controls how individual variables are displayed
when it comes time to graph them. The graph dictionary is structured
exactly the same as the datasource dictionary, and in some ways they
could be merged. For historical reasons, or architectural reasons (I
haven't decided yet...) they remain separate dictionaries.  <p>

There are actually two "flavors" of graph dictionary tags;
per-datasource and generic. The generic tags relate to the graphs
themselves, as opposed to the individual datasources drawn onto the
graphs. For instance, the width and height of a graph are configured
by generic tags, whereas the color of a datasource is configured by a
per-datasource tag. Per-datasource tags are stored in the graph
dictionary just as all the tags in the datasource dictionary are
stored. Generic tags are stored only in the <tt>--default--</tt>
dictionary.<p>

Below, the generic tags are listed.<p>

<dl>

<dt><tt>height</tt><p> 
<dd>Default value: 200<p>

This tag defines the requested height of the data area of the
graph. This value is passed into RRD, which then draws the actual 
image
somewhat bigger, in order to leave room for the margin, the scales, and
the legend. <p>

<dt><tt>height-hint</tt><p> 
<dd>Default value: <i>none</i><p>

HTML defines image sizing tags that allow the browser to layout the
page more efficiently. Using the Cricket's size hints,
you can control what image
sizing tags Cricket generates in it's HTML output. Most browsers will
attempt to scale the image if the size hints passed in via HTML do not
match the actual size of the image. The result is a hard-to-read graph
that took too long to draw. Thus it is <b>critical</b> that if you
choose to use sizing hints to help the browser layout the page, you
make them precisely the same as the size of the generated image. <p>

Because RRD pads the image with extra space, it's not possible for
Cricket to guess the finished size of the image using the <tt>width</tt>
and <tt>height</tt> tags. Instead, you need to find this number
yourself by measuring an actual image produced by RRD. In Netscape
Navigator, you
can do this by right clicking on the image, then choosing <i>Open this
Image</i>. Once the image is loaded, check the title bar for the actual
size of the image. <p>

<dt><tt>default-ranges</tt><p>
<dd>Default value: "d:w"<p>

What set of graphs are initially displayed. If you tend to be
fetching graphs at low bandwidth, you might like to frob this.
Setting it to "d", will make Cricket only send you the daily
graph, instead of the daily and weekly graphs. <p>

<dt><tt>interlaced</tt><p> 
<dd>Default value: false<p>

Set this tag to true to enable interlaced image. An interlaced image
will appear to "fade in" in most web browsers. <p>

<dt><tt>graph-format</tt><p>
<dd>Default value: <i>png</i> (for 4.0+ browsers), <i>gif</i> otherwise<p>

Set this tag to 'gif' to get RRD Tool to create GIFs. 
The GIFs created by RRD are big and slow, because they do not use
patented compression techniques. Cricket will use GIFs if the
browser will not support PNG's.

<dt><tt>rrd-graph-args</tt><p>
<dd>Default value: <i>none</i><p>

This tag can be used to pass through arguments to the RRD Tool.
The most appropriate use for this tag is to send color tags through
to the RRD Tool. For instance, to make the canvas that the graph
is drawn on appear black, you can set <tt>rrd-graph-args</tt>
to "-c CANVAS#000000". This tag is split on whitespace before
it is sent to RRD Tool, so it is not possible at this time to
send arguments with embedded whitespace to RRD Tool.
<p>

<dt><tt>vrule-color</tt><p> 
<dd>Default value: <i>none</i><p>

Vertical rules are lines added to the graph by Cricket to help you
visually find patterns in the data related to time of day. A vertical
rule is placed at each "zero time" which appears on a graph. For an
hourly graph, a zero time is midnight. For a daily graph, a zero time
is the beginning of the most recent Monday.
For a weekly graph, a zero time is the first day of the month.
For a monthly graph, a zero time is the first day of the year.
At this time, the definition of zero time for a
given scale is hardcoded into Cricket's grapher.cgi script.<p>

To enable vertical rules, use the <tt>vrule-color</tt> tag to choose a
color for them. That's all there is to it. If <tt>vrule-color</tt> is
defined, Cricket will automatically add the vertical rules for
you. <p>

<dt><tt>width</tt><p> 
<dd>Default value: 500<p>

Like height, this is the height of the data area of the graph. The
actual height of the resulting image will differ. <p>

<dt><tt>width-hint</tt><p> 
<dd>Default value: <i>none</i><p>

Like <tt>height-hint</tt> above, this controls the value used
by Cricket for the height tag in its HTML output. See
<tt>height-hint</tt> for more information about how to set this. <p>

<dt><tt>y-max</tt><p> 
<dd>Default value: <i>none</i><p>

Using this tag (and it's opposite, <tt>y-min</tt>) you can
explicitly control the vertical scale of the graph.
If you use either <tt>y-min</tt> or <tt>y-max</tt>,
you disable auto-scaling, and so you must explicitly set both of them. These
tags are especially useful when you are graphing some value which should
normally be very tightly bounded (for instance between 0 and 1 second), but
occasionally jumps far above 1 second. In this case, all variation under
one second will be essentially invisible on the graph, unless you set the
<tt>y-min</tt> to 0 and the <tt>y-max</tt> to 1.
<p>

Because the graph dictionary is expanded with respect to the
target dictionary, you could say <tt>y-max = %specific-y-max%</tt>,
then set the tag <tt>specific-y-max</tt> on a per-target
basis.
<p>

In general, it's a good idea to leave these unset and rely on
auto-scaling, unless you have a situation that calls for explicit
bounds.
<p>

<dt><tt>y-min</tt><p> 
<dd>Default value: <i>none</i><p>

See <tt>y-max</tt>, above.
<p>

</dl>

The following tags are per-datasource. They can occur in the
<tt>--default--</tt> dictionary, in which case they are inherited into
all subsequent per-datasource dictionaries. However, unlike the
generic tags above, they are only ever referenced with respect to a
certain datasource.<p>

<dl>

<dt><tt>bytes</tt><p>
<dd>Default value: <i>none</i><p>

If this is set to true, then the conversion to SI units will
use powers of 2 instead of powers of 10. For instance, if a router is
reporting that it's moving 1048576 bits per second through a
particular interface, and "bytes" is set to 1 (or "true") then
the value will be reported in the HTML summary as 1 Mbit/sec. 
Without the <tt>bytes</tt> tag, the value would be reported at
1.04 Mbit/sec, which is slightly misleading. When measuring
very large numbers of bytes, the difference can be significant.
<p>
The numbers on the vertical axis of a graph are scaled
by powers of 2 if the bytes tag is set to true for any of the
datasources on the graph.
<p>

<dt><tt>color</tt><p> 
<dd>Default value: <i>none</i><p>

Use the <tt>color</tt> tag to explicitly control the color of the datasource
as it appears both on the graph, and in the HTML summary. If this is left
unset, then Cricket will automatically choose colors according to the
<tt>--order--</tt> key in the <a href="#color">color dictionary</a>. 
If you choose to set it, either set it to one of the color names in the color
dictionary, or set it to an HTML-style color specification without the
pound sign. For instance, to make a datasource's line red, set color to
"ff0000".
<p>

<dt><tt>draw-as</tt><p> 
<dd>Default value: <i>?<!-- XXX --></i><p>

This tag tells Cricket how to draw the datasource on the graph. The choices
are as follows:
<p>

	<blockquote>
	<dl>
		<dt><tt>AREA</tt>
		<dd>draws a filled-in shape representing the value of the datasource
		over time.

		<dt><tt>LINE1</tt>
		<dd>uses a thin line

		<dt><tt>LINE2</tt>
		<dd>uses a medium line

		<dt><tt>LINE3</tt>
		<dd>uses a heavy line
	</dl>
	</blockquote>

<dt><tt>legend</tt><p>
<dd>Default value: <i>datasource name</i><p>

Using <tt>legend</tt> allows you to customize the datasource name which is
displayed on the graph's legend, and in the HTML summary. If you don't
use a <tt>legend</tt> tag, the name of the datasource (as specified
by the <tt>ds</tt> tag in the targetType dictionary) will be used.
<p>

<dt><tt>precision</tt><p>
<dd>Default value: <i>2</i><p>

You can adjust the number of decimal points in the HTML summary values using
the <tt>precision</tt> tag. The default is two. If you simply want the value
displayed to be rounded to the nearest integer, set <tt>precision</tt> to
zero. Alternatively, you can set it to the string "integer".
<p>

<dt><tt>scale</tt><p>
<dd>Default value: <i>none</i><p>

If <tt>scale</tt> is set, then the datasource is run through a computation
(usually a simple scaling operation) before it it plotted or listed
in the HTML summary. The tag is interpreted as a string of operations
that will be executed by a Reverse Polish Notation (RPN)
calculator, separated by commas. When the
expression begins executing, the current value of the datasource is
already on the stack. Thus setting <tt>scale</tt> to "8,*" will multiply
the datasource by 8 before plotting it.
<p>

The RPN operations available are "+" (plus), "-" (minus), "*" (multiply),
"/" (divide), and "LOG" (take the natural logarithm of the top of the stack).
Any other token is pushed onto the stack as a number. The top of the stack at the
end of the string of operations is taken as the scaled value.
<p>

This feature is very useful when plotting bits per second from a router
interface. Routers tend to report bandwidth in bytes per second, but
humans tend to think about link capacity in bits per second. Using a <tt>scale</tt>
tag of "8,*" can bridge this gap by scaling the bytes per second from the router
into bits per second for human use.
<p>

<dt><tt>show-avg-max</tt><p>
<dd>Default value: <i>true</i><p>

This controls the amount of summary data shown on the top of graphs.
If set to true, Cricket makes an extra call to RRD Tool to fetch the
average and the maximum for the current day of data. If set to false, only
the current reading is shown.
<p>

<dt><tt>si-units</tt><p>
<dd>Default value: <i>true</i><p>

Setting this tag to "false" will prevent Cricket from transforming
the value printed in the HTML summary into SI units (i.e.
2000 bytes/sec is transformed into 2 kbytes/sec). The scale
on the graph, however, will still have the transformation done
to it. Set this tag to "false" for items that are not typically
counted with SI units, like system load average.
<p>

Here are the SI units that are used by Cricket:
<p>

<blockquote>
<table border cellpadding=3>
<tr><th>Symbol</th><th>Magnitude</th><th>Name</th></tr>
<tr><td>a	<td>10e-18	<td>Ato
<tr><td>f	<td>10e-15	<td>Femto
<tr><td>p	<td>10e-12	<td>Pico
<tr><td>n	<td>10e-9	<td>Nano
<tr><td>&#181;	<td>10e-6	<td>Micro
<tr><td>milli	<td>10e-3	<td>Milli
<tr><td>k	<td>10e3	<td>Kilo
<tr><td>M	<td>10e6	<td>Mega
<tr><td>G	<td>10e9	<td>Giga
<tr><td>T	<td>10e12	<td>Terra
<tr><td>P	<td>10e15	<td>Peta
<tr><td>E	<td>10e18	<td>Exa
</table>
</blockquote>
<p>

Note that on graphs, 'milli' is denoted by 'm'. In the HTML summary,
where there is more room, Cricket uses the less ambiguous 'milli'.
<p>

<dt><tt>space</tt><p>
<dd>Default value: <i>one space</i><p>

This tag can be used by the extremely fastidious user to control the HTML
summary. Usually, one space is exactly what you'd want between the value
and the unit specifier of the value. However, for certain units, like the
degree sign, no space is called for. In this case, set <tt>space</tt>
to "", the empty string.
<p>

<dt><tt>units</tt><p>
<dd>Default value: <i>the value of the <tt>y-axis</tt> tag</i><p>

In the HTML summary, the <tt>units</tt> tag is appended after the
value of the datasource. If a datasource is collecting bandwidth information,
for instance, it would make sense to set <tt>y-axis</tt> to "bits per second",
since there is plenty of room for it. In the legend, where room is more limited,
it would be better to set <tt>units</tt> to "bps", instead of letting it
default to "bits per second".
<p>

<dt><tt>y-max</tt><p>
<dd>Default value: <i>unset</i><p>

See <tt>y-max</tt> in the generic section. If there is a generic
<tt>y-max</tt>, it overrides the per-datasource <tt>y-max</tt>.
If there are multiple per-datasource y-maxes, then the maximum of
all of them is used.
<p>

<dt><tt>y-min</tt><p>
<dd>Default value: <i>unset</i><p>

See <tt>y-max</tt> above.
<p>

</dl>

<a name="color">
<h3>The Color Dictionary</h3>
</a>

The color dictionary is used to configure Cricket's auto-color
selection system and to map color names to HTML-style color
specifications (without the pound sign).
Every key, except for the special key <tt>--order--</tt>
is considered a color name, and should have a color specification.
The special key <tt>--order--</tt> is used to tell Cricket what order to
assign the colors when doing auto-selection.
<p>

An HTML-style color specification consists of three hex numbers ranging
from <tt>00</tt> to <tt>ff</tt>. The numbers represent the intensity of
the red, green, and blue components of the final color.
For an example of a correctly configured color dictionary, see the
Defaults file in the root of the sample config tree.
<p>

<a name="oid">
<h3>The OID Dictionary</h3>
</a>

The OID dictionary is a convenient place to put OID's to make the
config files more readable. Before any SNMP operation, the user-supplied
OID is scanned. Any text parts of the OID that match an entry in the
OID dictionary get replaced. Note that this is a separate process from
variable expansion, for historical reasons. The keys and values in
this table are separated by whitespace. Each entry starts with the
keyword "OID".
<p>

In keeping with the conventions of ASN.1 and SNMP, OID names
are case insensitive, must start with a letter, and can 
otherwise consist of letters and numbers.
<p>

<a name="html">
<h3>The HTML Dictionary</h3>
</a>

The HTML dictionary holds components of the UI that is
created by the grapher using HTML. Before it is used,
the HTML dictionary is expanded with respect to itself.
<p>

<dl>
<dt><tt>auto-error</tt><p>
<dd>Default value: <i>any errors generated on this page</i><p>

Any runtime errors that the grapher finds while attempting
to create the page are added to this tag. It is usually
referenced in the <tt>page-footer</tt>.
<p>

Note that only
errors that Cricket can find while it's running will show
up here. Problems finding the Perl interpreter, or parsing
<tt>grapher.cgi</tt> will still show up in the webserver's
error log.
<p>

<dt><tt>auto-long-version</tt><p>
<dd>Default value: <i>the contents of the VERSION file</i><p>

This is the complete version string, including the version
number and the time it was packaged for release.
<p>

<dt><tt>auto-short-version</tt><p>
<dd>Default value: <i>the version number</i><p>

This is simply the version number from the
complete Cricket version string.
<p>

<dt><tt>auto-title</tt><p>
<dd>Default value: <i>the title</i><p>

This tag is set by the grapher to the title it expects
to use on this page. It is normally referenced in the
<tt>head</tt> tag.
<p>

<dt><tt>body-options</tt><p>
<dd>Default value: <i>none</i><p>
 
This tag is incorporated into the HTML body tag. This is
the perfect place to set a background color. It's not
useful for much else, unless you want your graphs to play
a MIDI file in the background.
<p>

<dt><tt>head</tt><p>
<dd>Default value: <i>none</i><p>

This is HTML that will be inserted between the &lt;head&gt;
and &lt;/head&gt; tags. It can be used to incorporate a cascading
style sheet into the Cricket user interface. This would allow
you to easily control aspects of the UI design that are hardcoded
in the source code.
<p>

To incorporate a CSS called "cricket.css", use a <tt>head</tt>
tag like this:
<p>

<center>
<table valign="center" border="1" cellpadding="3">
  <tr>
    <td width="100%"><pre>
html	head
	&lt;link rel="stylesheet" src="cricket.css" type="text/css"&gt;</td>
  </tr>
</table>
</center>
<p>

<dt><tt>page-footer</tt><p>
<dd>Default value: <i>none</i><p>

This is the HTML that will go on the bottom of the page. As Cricket
is shipped, it includes a link to the RRD Tool website. Tobias
Oetiker, the author of RRD Tool, has respectfully
asked frontend authors to
feature a link to RRD Tool. Please take into account his wishes
as you edit this tag.
<p>

The version of <tt>page-footer</tt> in the sample-config directory
refers to a tag called <tt>contact</tt>, which can be used to put
sub-tree specific contact information into the bottom of the page.
This is only meant as an example. You might choose to put completely
different information at the bottom of the page.
<p>

<dt><tt>page-header</tt><p>
<dd>Default value: <i>none</i><p>

This is the HTML that will go at the top of the page,
after the &lt;body&gt; tag, but before the rest of the
user interface. As shipped, it illustrates how you might
put a company logo on each page.
<p>
</dl>

<a name="event">
<h3>The Event Dictionary</h3>
</a>

This dictionary holds information related to <i>events</i>. An
event is some point in time which you'd like to mark on graphs
so that later, you'll remember why it was that those graphs
look the way they do. An event is named, just like a target
or a datasource. The event
names are used in the target dictionary tag called <tt>events</tt>.
See the entry for that tag for more information.
<p>

Each event should have the following tags set:

<dl>
<dt><tt>color</tt><p>
<dd>

The color of the event. This should be the name of a color in the
<a href="#color">color dictionary</a>.
<p>

<dt><tt>date</tt><p>
<dd>

The time the event happened, which controls where on a graph the
vertical rule appears.
<p>

<dt><tt>name</tt><p>
<dd>

This is the text that will show up in the legend on the graph.
<p>
</dl>

<a name="rra">
<h3>The RRA Dictionary</h3>
</a>

<p>
The RRA dictionary holds parameters used by Cricket when it is setting
up a new RRD file. These parameters control how much data RRD stores,
and on what schedule it consolidates high resolution data into lower
resolution data.

<p>
The RRA dictionary that ships with Cricket in the
sample config tree will rollup and retain data using the same schedule
that MRTG 2.x has used for years. This has proven satisfactory for
most users. If you change the polling rate from 5 minutes, this
dictionary needs to be edited. Likewise, if you want to keep history
farther back in time, you'll need to edit these entries.

<p>
Because this table is only used when a new RRD is being created,
you would need to delete any existing datafile, losing all of the data
in it, before a change to the RRA dictionary takes effect.

<p>
For more information on the format of these dictionary entries, read
the RRD Tool documentation on the "create" command.

<p>
<hr>

<p>
<a href="http://cricket.sourceforge.net">Cricket</a>
version !!VERSION!!, released !!RELDATE!!.

<p>
Copyright (C) 1998-2000 !!COPYRIGHT!!. Cricket is released under
the <a href="gpl.html">GNU General Public License</a>.

</body>
</html>

